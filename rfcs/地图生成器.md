# 功能

- 地图生成器
- 2024-8-13
- zuiyu1998

## 概述

用于程序化生成地图的工具。

## 指南级别的解释

整个地图由一个个格子组成，但格子不能单独生成，而是从 chunk 中复制。chunk 负责具体的格子生成，它有着某种高级的概念，比如种族，地形。

## 参考级别解释

chunk 是多样的，chunk 的主要功能是生成格子。每个格子最后会生成具体的节点。

节点最重要的是大小和节点类型。

chunk 根据不同的策略生成不同大小的节点。
首先定义节点大小。

```gds
extends RefCounted
class_name Chunk


var tile_sizes: Array[int] = [1, 2, 3, 4, 5]

func spawn_tiles() -> Array:
    return []
```

tile_sizes 现在分为 5 个档位，后面可以增加。

每个 chunk 会分配一个 area 大小，然后根据这个区域大小和不同的策略生成多个格子。
策略如下:

- 平均划分

根据格子的大小和现行的格子类型生成对接的节点，然后插入对应的父节点。
